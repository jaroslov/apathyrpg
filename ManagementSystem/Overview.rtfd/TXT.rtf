{\rtf1\mac\ansicpg10000\cocoartf824\cocoasubrtf410
{\fonttbl\f0\froman\fcharset77 Times-Roman;\f1\froman\fcharset77 Times-Italic;\f2\fnil\fcharset77 AndaleMono;
}
{\colortbl;\red255\green255\blue255;}
{\info
{\title }
{\subject }
{\doccomm }
{\author }
{\*\company }
{\*\copyright }
{\keywords cursorLocation=4329}}\margl1008\margr1008\margt1008\vieww15480\viewh15760\viewkind2\viewscale120
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\qj\pardirnatural

\f0\fs26 \cf0 The Apathy Role Playing Game (ARPG) Management System (MS) uses a combination of technologies. This document presents an overview of this system; this is not a good representation of the system 
\f1\i as is
\f0\i0 .\
\
At the top level, the ARPG-MS is a text-based database system. Much of ARPG is structured content. That is, it is not just textual information. For instance, consider a \'d2skill\'d3: a skill consists of the following parts: name, rank, attribute, short-description, long-description. In addition, for purely game-mechanical reasons, we must have metatags (timeline), and base-offset (almost always 0). In an XML document we could represent a skill like this:\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\li0\fi0\ri0\slleading0\qj\pardirnatural

\f2\fs20 \cf0 <skill>\
  <name>name</name>\
  <rank>rank</rank>\
  <attribute>attribute<attribute>\
  <short>short-description</short>\
  <description>long-description</description>\
  <base_offset>base offset<base_offset>\
  <metatag>metatag</metatag>\
</skill>
\f0\fs26 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\qj\pardirnatural
\cf0 \
And, in fact, this is the way that skills are stored on disk. Each skill is given some arbitrary on-disk name for storage. Because they are stored as 
\f1\i text
\f0\i0 , normal text-based revision control systems (RCS) are used to maintain histories.\
\
The data-content of ARPG is then a series of hierarchically defined folders, e.g. /Game/Academics/, /Game/Magic/Light, etc. that store the per-unit data. Rulesets associated with each hierarchical section are also kept.\
\
Such a system easily allows us to create a hierarchical database of the content of the system in-memory for transformations, i.e. into a single PDF document.\
\
The problem is then the appropriate layout of the documents. For instance, for Academic or Martial Art skills, the number of items that need to be presented to the reader is relatively few; however, the Magic skills have a large number of subitems. Visually pleasing layout of this content can be problematic. Even more troublesome is that deep hierarchies are not amenable to automatic layout. That is, while we want a single section outlining all of the Academic section, it is not immediately obvious to a program that the subsections of Magic, e.g. Light, Dark, belong together; even more troublesome is their presentation.\
\
While the current system uses a set of \'d2magic\'d3 files and \'d2incantations\'d3 within the source-code of the document-layout system to determine the layout of the final copy, this is problematic and not a maintainable long-term system. As a result we are building a new system based on the old system. Note, that because the system is already entirely stored in a useable data-hierarchy, the amount of coding and transformation is significantly lessoned.\
\
Actual hardcopy for layout is currently done in T\sub E\nosupersub X, however, we will be moving this layout to some variant of either XML-FO or XHTML. This is because while T\sub E\nosupersub X is trivially available on UNIX systems it is not easily available on Windows; most of our users are Windows users (even though the author is primarily a UNIX user).\
\
The main migration path (the most painful) will be the construction of an overarching XML representation of the entirety of the game-system. Especially problematic is the insertion of rules. This will have to be done via \'d2magical\'d3 incantations. Our proposal is outlined next.\
\
The MS will operate on a folder called \'d2Game\'d3 (or any appropriate Root name, ours will be ARPG). The hierarchy of the system is then:\
\

\f2\fs20 /Root\
  |\
  +---Layout.xml\
  |\
  +---/Content\
  |       |\
  |       +---/
\f1\i more content\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\qj\pardirnatural

\f2\i0 \cf0   |       |\
  |       +---/
\f1\i more content\

\f2\i0   |       |\
  |       ...
\f1\i \

\f2\i0   |
\f1\i \

\f2\i0   +---Document1.xml\
  |\
  +---Document2.xml\
  |\
  ...\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\qj\pardirnatural

\f0\fs26 \cf0 \
We note that whereas right now the \'d2rules\'d3 are embedded within the \'d2Content\'d3 directories (and subdirectories!), that in the new system, the \'d2rules\'d3 (so called \'d2Documents\'d3) will be in the \'d2Root\'d3 directory. We then enforce a uniform layout scheme in XML like this:\
\

\f2\fs20 <Root>\
  <TitlePage>TitlePage.xml</TitlePage>\
  <TableOfContents /><!-- Automatically Generated -->\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\qj\pardirnatural
\cf0   <ListOfFigures /><!-- Automatically Generated -->\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\qj\pardirnatural
\cf0   <Section src=\'d2Introduction.xml\'d3 /> <!-- Document includes name of section -->\
  <Section src=\'d2Rules.xml\'d3 />\
  <Section src=\'d2Academics.xml\'d3>\
    <Table src=\'d2Academics\'d3 >\
       <Columns>\
         <!-- Columns to use and their widths -->\
       </Columns>\
    </Table> <!-- Table from the Academic directory from Contents -->\
    <Content src=\'d2Academics\'d3>\
  </Section>\
  <Section src=\'d2Magic.xml\'d3>\
    <Table src=\'d2Magic\'d3>\
      <Columns>\
        <!-- Here we see that with subsections, the sections will be appropriately headed -->\
      </Columns>\
    </Table>\
    <!-- Subsections are automagically generated for sub-content folders -->\
  </Section>\
</Root>}